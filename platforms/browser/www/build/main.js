webpackJsonp([0],{151:function(e,n){function t(e){return Promise.resolve().then(function(){throw new Error("Cannot find module '"+e+"'.")})}t.keys=function(){return[]},t.resolve=t,e.exports=t,t.id=151},186:function(e,n){function t(e){return Promise.resolve().then(function(){throw new Error("Cannot find module '"+e+"'.")})}t.keys=function(){return[]},t.resolve=t,e.exports=t,t.id=186},255:function(e,n,t){"use strict";function a(e){return r._25(0,[(e()(),r._5(0,null,null,2,"ion-nav",[],null,null,null,U.b,U.a)),r._21(6144,null,H.a,null,[W.a]),r._3(4374528,null,0,W.a,[[2,N.a],[2,F.a],G.a,T.a,q.a,r.k,r.x,r.D,r.j,X.l,B.a,[2,K.a],Y.a,r.l],{root:[0,"root"]},null),(e()(),r._24(null,["\n"]))],function(e,n){e(n,2,0,n.component.rootPage)},null)}function o(e){return r._25(0,[r._22(402653184,1,{content:0}),(e()(),r._5(0,[[1,0]],null,5,"ion-content",[["class","no-scroll"]],[[2,"statusbar-padding",null],[2,"has-refresher",null]],[["window","resize"]],function(e,n,t){var a=!0;return"window:resize"===n&&(a=!1!==r._19(e,2).resize()&&a),a},Q.b,Q.a)),r._3(4374528,[["mainContent",4]],0,Z.a,[T.a,q.a,Y.a,r.k,r.D,G.a,$.a,r.x,[2,N.a],[2,F.a]],null,null),(e()(),r._24(1,["\n  "])),(e()(),r._5(0,[["videoElement",1]],1,0,"video",[["autoplay",""],["preload","auto"],["webkitPlaysinline",""]],[[8,"width",0],[8,"height",0]],null,null,null,null)),(e()(),r._24(1,["\n\n  "])),(e()(),r._24(1,["\n"])),(e()(),r._24(null,["\n"])),(e()(),r._24(null,["\n\n"]))],null,function(e,n){var t=n.component;e(n,1,0,r._19(n,2).statusbarPadding,r._19(n,2)._hasRefresher),e(n,4,0,t.width,t.height)})}Object.defineProperty(n,"__esModule",{value:!0});var i=t(32),r=t(0),l=t(5),c=t(97),s=t(215),d=t(216),u=t(217),_=t(282),h=t(368),p=t.n(h),f=function(){function e(e,n,t){this.navCtrl=n,this.ngRenderer=t,this.stats=new p.a,this.width=640,this.height=480,console.log("WxH: "+this.width+"x"+this.height)}return e.prototype.getDeviceId=function(){return navigator.mediaDevices.enumerateDevices().then(function(e){console.log("cam info",e);var n="unkwn";return e.forEach(function(e){if(e.label){var t=e.label.match(/back|rear/);null===t&&void 0===t||(n=e.deviceId)}}),console.log(n),null!==n&&void 0!==n&&"unkwn"!==n||(console.log("Inside if in getdeviceid"),e.forEach(function(e){if(e.kind){var t=e.kind.match(/video|videoinput/);null===t&&void 0===t||(n=e.deviceId)}})),n})},e.prototype.ngOnInit=function(){console.log("Content",this.content),this.appendStatisticsScreen(this.content),this.startRendering(this.content)},e.prototype.startRendering=function(e){var n=this,t=this.width,a=this.height;("MediaDevices"in window||navigator.getUserMedia)&&this.getDeviceId().then(function(o){console.log("dev id",o),n.deviceId=o,_.ARController.getUserMediaThreeScene({maxARVideoSize:640,cameraConfig:{video:{deviceId:n.deviceId}},cameraParam:"assets/data/camera_para.dat",onSuccess:function(o,i,r){i.setPatternDetectionMode(_.artoolkit.AR_TEMPLATE_MATCHING_MONO_AND_MATRIX);var l=n.createWebGLRenderer(t,a,i,o),c=0;l.domElement.addEventListener("click",function(e){console.log("Inside click"),e.preventDefault(),c+=1},!1);try{n.ngRenderer.appendChild(e.nativeElement,l.domElement)}catch(e){console.log("Error in startRendering",e)}var s=n.createIcosahedron();n.createAvatar(function(e){console.log("Callback returned",e),n.trackMarker(o,i,5,e)}),n.trackMarker(o,i,20,s);var d=function(){n.stats.update(),o.process(),o.renderOn(l),requestAnimationFrame(d)};d()}})})},e.prototype.appendStatisticsScreen=function(e){try{this.ngRenderer.appendChild(e.nativeElement,this.stats.dom)}catch(e){console.log("Error in appendStatisticsScreen",e)}},e.prototype.trackMarker=function(e,n,t,a){var o=n.createThreeBarcodeMarker(t,1);o.add(a),e.scene.add(o)},e.prototype.createCube=function(){var e=new u.Mesh(new u.BoxGeometry(1,1,1),new u.MeshNormalMaterial);return e.material.shading=u.FlatShading,e.position.z=.5,e},e.prototype.createIcosahedron=function(){var e=new u.Mesh(new u.IcosahedronGeometry(.7,1),new u.MeshNormalMaterial);return e.material.shading=u.FlatShading,e.position.z=.7,e},e.prototype.createAvatar=function(e){console.log("Starting avatar 20");var n=new u.LoadingManager;n.onLoad=function(){console.log("Loading started!");try{var e=window.speechSynthesis,n=new SpeechSynthesisUtterance("Hey Ya Boy, Whats up.");e.speak(n)}catch(e){console.log("error in speaking",e)}},n.onError=function(){console.log("Error in loding res")},n.onProgress=function(e,n,t){console.log("Loading file: "+e+".\nLoaded "+n+" of "+t+" files.")};var t=new u.ObjectLoader(n),a=new u.MeshNormalMaterial;console.log("Object oader",t,"material",a),t.load("assets/avatar/legoboy.json",function(n){console.log("Avatar Loaded",n),n.traverse(function(e){e instanceof u.Mesh&&(console.log("inside child"),e.material=a,e.material.shading=u.FlatShading)}),n.rotation.x=Math.PI/2,n.position.z=.5,n.scale.x=.7,n.scale.y=.7,n.scale.z=.7,console.log("positionobj x:",n.position.x,"y",n.position.y,"z",n.position.z),e(n)})},e.prototype.incrementXAngle=function(e){e.rotation.x+=5},e.prototype.createWebGLRenderer=function(e,n,t,a){var o=new u.WebGLRenderer({antialias:!0,alpha:!0});o.setClearColor(new u.Color("lightgrey"),0),console.log("orient",t.orientation);var i=Math.min(window.innerWidth/a.video.videoWidth,window.innerHeight/a.video.videoHeight),r=i*a.video.videoWidth,l=i*a.video.videoHeight;return"portrait"===t.orientation?(o.setSize(l,r),o.domElement.style.transformOrigin="0 0",o.domElement.style.transform="rotate(-90deg) translateX(-100%)"):o.setSize(r,l),o.domElement.className="center",o},e}();Object(l.__decorate)([Object(r.M)("mainContent",{read:r.k}),Object(l.__metadata)("design:type","function"==typeof(v=void 0!==r.k&&r.k)&&v||Object)],f.prototype,"content",void 0),f=Object(l.__decorate)([Object(r.i)({selector:"page-home",templateUrl:"home.html"}),Object(l.__metadata)("design:paramtypes",["function"==typeof(g=void 0!==c.e&&c.e)&&g||Object,"function"==typeof(m=void 0!==c.d&&c.d)&&m||Object,"function"==typeof(b=void 0!==r.E&&r.E)&&b||Object])],f);var v,g,m,b,w=function(){return function(e){this.rootPage=f,e.ready().then(function(){window.URL=window.URL||window.webkitURL,window.MediaDevices=window.MediaDevices||navigator.getUserMedia})}}();w=Object(l.__decorate)([Object(r.i)({templateUrl:"app.html"}),Object(l.__metadata)("design:paramtypes",["function"==typeof(y=void 0!==c.e&&c.e)&&y||Object])],w);var y,j=t(253),k=t(254),M=(t(369),function(){function e(e){this.http=e,console.log("Hello ArengineServiceProvider Provider")}return e.prototype.startAREngine=function(){},e}());M=Object(l.__decorate)([Object(r.o)(),Object(l.__metadata)("design:paramtypes",["function"==typeof(O=void 0!==k.a&&k.a)&&O||Object])],M);var O,E=function(){return function(){}}();E=Object(l.__decorate)([Object(r.u)({declarations:[w,f],imports:[i.a,c.c.forRoot(w,{},{links:[]})],bootstrap:[c.a],entryComponents:[w,f],providers:[d.a,s.a,{provide:r.l,useClass:c.b},j.a,M]})],E);var R=t(52),x=t(370),S=t(371),C=t(372),I=t(373),L=t(374),A=t(375),P=t(376),z=t(377),D=t(378),U=t(379),H=t(42),W=t(59),N=t(4),F=t(24),G=t(10),T=t(1),q=t(3),X=t(8),B=t(36),K=t(17),Y=t(11),J=r._2({encapsulation:2,styles:[],data:{}}),V=r._0("ng-component",w,function(e){return r._25(0,[(e()(),r._5(0,null,null,1,"ng-component",[],null,null,null,a,J)),r._3(49152,null,0,w,[q.a],null,null)],null,null)},{},{},[]),Q=t(380),Z=t(27),$=t(38),ee=r._2({encapsulation:2,styles:[],data:{}}),ne=r._0("page-home",f,function(e){return r._25(0,[(e()(),r._5(0,null,null,1,"page-home",[],null,null,null,o,ee)),r._3(114688,null,0,f,[q.a,F.a,r.E],null,null)],function(e,n){e(n,1,0)},null)},{},{},[]),te=t(21),ae=t(131),oe=t(22),ie=t(101),re=t(103),le=t(128),ce=t(19),se=t(39),de=t(109),ue=t(213),_e=t(54),he=t(47),pe=t(111),fe=t(74),ve=t(116),ge=t(127),me=t(123),be=t(212),we=t(129),ye=t(34),je=t(110),ke=t(130),Me=r._1(E,[R.b],function(e){return r._16([r._17(512,r.j,r.X,[[8,[x.a,S.a,C.a,I.a,L.a,A.a,P.a,z.a,D.a,V,ne]],[3,r.j],r.v]),r._17(5120,r.t,r._15,[[3,r.t]]),r._17(4608,te.k,te.j,[r.t]),r._17(5120,r.b,r._6,[]),r._17(5120,r.r,r._12,[]),r._17(5120,r.s,r._13,[]),r._17(4608,i.c,i.s,[te.c]),r._17(6144,r.H,null,[i.c]),r._17(4608,i.f,ae.a,[]),r._17(5120,i.d,function(e,n,t,a){return[new i.l(e),new i.p(n),new i.o(t,a)]},[te.c,te.c,te.c,i.f]),r._17(4608,i.e,i.e,[i.d,r.x]),r._17(135680,i.n,i.n,[te.c]),r._17(4608,i.m,i.m,[i.e,i.n]),r._17(6144,r.F,null,[i.m]),r._17(6144,i.q,null,[i.n]),r._17(4608,r.K,r.K,[r.x]),r._17(4608,i.h,i.h,[te.c]),r._17(4608,i.j,i.j,[te.c]),r._17(4608,oe.k,oe.k,[]),r._17(4608,oe.c,oe.c,[]),r._17(4608,ie.a,ie.a,[G.a,T.a]),r._17(4608,re.a,re.a,[G.a,T.a]),r._17(4608,le.a,le.a,[]),r._17(4608,ce.a,ce.a,[]),r._17(4608,se.a,se.a,[q.a]),r._17(4608,$.a,$.a,[T.a,q.a,r.x,Y.a]),r._17(4608,de.a,de.a,[G.a,T.a]),r._17(5120,te.f,ue.b,[te.q,[2,te.a],T.a]),r._17(4608,te.e,te.e,[te.f]),r._17(5120,_e.b,_e.d,[G.a,_e.a]),r._17(5120,K.a,K.b,[G.a,_e.b,te.e,he.b,r.j]),r._17(4608,pe.a,pe.a,[G.a,T.a,K.a]),r._17(4608,fe.a,fe.a,[G.a,T.a]),r._17(4608,ve.a,ve.a,[G.a,T.a,K.a]),r._17(4608,ge.a,ge.a,[T.a,q.a,Y.a,G.a,X.l]),r._17(4608,me.a,me.a,[G.a,T.a]),r._17(4608,B.a,B.a,[q.a,T.a]),r._17(4608,d.a,d.a,[]),r._17(4608,s.a,s.a,[]),r._17(4608,j.a,j.a,[]),r._17(4608,M,M,[k.a]),r._17(512,te.b,te.b,[]),r._17(512,r.l,be.a,[]),r._17(256,T.b,{},[]),r._17(1024,we.a,we.b,[]),r._17(1024,q.a,q.b,[i.b,we.a,r.x]),r._17(1024,T.a,T.c,[T.b,q.a]),r._17(512,Y.a,Y.a,[q.a]),r._17(512,ye.a,ye.a,[]),r._17(512,G.a,G.a,[T.a,q.a,[2,ye.a]]),r._17(512,X.l,X.l,[G.a]),r._17(256,_e.a,{links:[]},[]),r._17(512,r.h,r.h,[]),r._17(512,je.a,je.a,[r.h]),r._17(1024,he.b,he.c,[je.a,r.q]),r._17(1024,r.c,function(e,n,t,a,o,r,l,c,s,d,u,_,h,p){return[i.r(e,n),ke.a(t),le.b(a,o),ge.b(r,l,c,s,d),he.d(u,_,h,p)]},[[2,i.i],[2,r.w],T.a,q.a,Y.a,T.a,q.a,Y.a,G.a,X.l,T.a,_e.a,he.b,r.x]),r._17(512,r.d,r.d,[[2,r.c]]),r._17(131584,r._4,r._4,[r.x,r.Y,r.q,r.l,r.j,r.d]),r._17(2048,r.f,null,[r._4]),r._17(512,r.e,r.e,[r.f]),r._17(512,i.a,i.a,[[3,i.a]]),r._17(512,oe.j,oe.j,[]),r._17(512,oe.d,oe.d,[]),r._17(512,oe.i,oe.i,[]),r._17(512,ue.a,ue.a,[]),r._17(512,E,E,[]),r._17(256,R.a,w,[]),r._17(256,te.a,"/",[])])});Object(r.R)(),Object(i.k)().bootstrapModuleFactory(Me)},321:function(e,n){},322:function(e,n){}},[255]);