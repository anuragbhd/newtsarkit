webpackJsonp([0],{153:function(e,n){function a(e){return Promise.resolve().then(function(){throw new Error("Cannot find module '"+e+"'.")})}a.keys=function(){return[]},a.resolve=a,e.exports=a,a.id=153},188:function(e,n){function a(e){return Promise.resolve().then(function(){throw new Error("Cannot find module '"+e+"'.")})}a.keys=function(){return[]},a.resolve=a,e.exports=a,a.id=188},256:function(e,n,a){"use strict";function t(e){return i._25(0,[(e()(),i._5(0,null,null,2,"ion-nav",[],null,null,null,H.b,H.a)),i._21(6144,null,W.a,null,[G.a]),i._3(4374528,null,0,G.a,[[2,N.a],[2,T.a],q.a,F.a,V.a,i.k,i.x,i.D,i.j,X.l,B.a,[2,J.a],K.a,i.l],{root:[0,"root"]},null),(e()(),i._24(null,["\n"]))],function(e,n){e(n,2,0,n.component.rootPage)},null)}function l(e){return i._25(0,[i._22(402653184,1,{videoElement:0}),(e()(),i._5(0,null,null,4,"ion-content",[["class","no-scroll"]],[[2,"statusbar-padding",null],[2,"has-refresher",null]],[["window","resize"]],function(e,n,a){var t=!0;return"window:resize"===n&&(t=!1!==i._19(e,2).resize()&&t),t},Z.b,Z.a)),i._3(4374528,null,0,$.a,[F.a,V.a,K.a,i.k,i.D,q.a,ee.a,i.x,[2,N.a],[2,T.a]],null,null),(e()(),i._24(1,["\n  "])),(e()(),i._5(0,[[1,0],["videoElement",1]],1,0,"video",[["autoplay",""],["preload","auto"],["webkitPlaysinline",""]],[[8,"width",0],[8,"height",0]],null,null,null,null)),(e()(),i._24(1,["\n"])),(e()(),i._24(null,["\n"])),(e()(),i._24(null,["\n\n"]))],null,function(e,n){var a=n.component;e(n,1,0,i._19(n,2).statusbarPadding,i._19(n,2)._hasRefresher),e(n,4,0,a.width,a.height)})}function o(e){return i._25(0,[(e()(),i._24(null,["\n"])),(e()(),i._5(0,null,null,10,"ion-header",[],null,null,null,null,null)),i._3(16384,null,0,te.a,[F.a,i.k,i.D,[2,N.a]],null,null),(e()(),i._24(null,["\n\n  "])),(e()(),i._5(0,null,null,6,"ion-navbar",[["class","toolbar"]],[[8,"hidden",0],[2,"statusbar-padding",null]],null,null,le.b,le.a)),i._3(49152,null,0,oe.a,[q.a,[2,N.a],[2,T.a],F.a,i.k,i.D],null,null),(e()(),i._24(3,["\n    "])),(e()(),i._5(0,null,3,2,"ion-title",[],null,null,null,re.b,re.a)),i._3(49152,null,0,ie.a,[F.a,i.k,i.D,[2,ue.a],[2,oe.a]],null,null),(e()(),i._24(0,["ar-js"])),(e()(),i._24(3,["\n  "])),(e()(),i._24(null,["\n\n"])),(e()(),i._24(null,["\n\n\n"])),(e()(),i._5(0,null,null,2,"ion-content",[["padding",""]],[[2,"statusbar-padding",null],[2,"has-refresher",null]],[["window","resize"]],function(e,n,a){var t=!0;return"window:resize"===n&&(t=!1!==i._19(e,14).resize()&&t),t},Z.b,Z.a)),i._3(4374528,null,0,$.a,[F.a,V.a,K.a,i.k,i.D,q.a,ee.a,i.x,[2,N.a],[2,T.a]],null,null),(e()(),i._24(1,["\n\n"])),(e()(),i._24(null,["\n"]))],null,function(e,n){e(n,4,0,i._19(n,5)._hidden,i._19(n,5)._sbPadding),e(n,13,0,i._19(n,14).statusbarPadding,i._19(n,14)._hasRefresher)})}Object.defineProperty(n,"__esModule",{value:!0});var r=a(33),i=a(0),u=a(5),c=a(71),d=a(215),_=a(216),s=a(217),f=a(283),h=function(){function e(e,n){this.navCtrl=n,this.width=640,this.height=480,console.log("WxH: "+this.width+"x"+this.height)}return e.prototype.getDeviceId=function(){return navigator.mediaDevices.enumerateDevices().then(function(e){console.log("cam info",e);var n="unkwn";return e.forEach(function(e){if(e.label){var a=e.label.match(/back|rear/);null===a&&void 0===a||(n=e.deviceId)}}),console.log(n),n})},e.prototype.ngAfterViewInit=function(){var e=this,n=this.width,a=this.height;("MediaDevices"in window||navigator.getUserMedia)&&(console.log("dev id",this.deviceId),this.getDeviceId().then(function(t){e.deviceId=t,f.ARController.getUserMediaThreeScene({maxARVideoSize:640,cameraConfig:{video:{deviceId:e.deviceId}},cameraParam:"assets/data/camera_para.dat",onSuccess:function(t,l,o){l.setPatternDetectionMode(f.artoolkit.AR_TEMPLATE_MATCHING_MONO_AND_MATRIX);var r=e.createWebGLRenderer(n,a,l,t);document.body.appendChild(r.domElement);var i=0;r.domElement.addEventListener("click",function(e){console.log("Inside click"),e.preventDefault(),i+=1},!1);var u=e.createIcosahedron();e.createAvatar(function(n){console.log("Creating avatar"),e.trackMarker(t,l,5,n)});e.trackMarker(t,l,20,u);var c=function(){console.log("Inside tick"),t.process(),t.renderOn(r),requestAnimationFrame(c)};c()}})}))},e.prototype.trackMarker=function(e,n,a,t){var l=n.createThreeBarcodeMarker(a,1);l.add(t),e.scene.add(l)},e.prototype.createCube=function(){var e=new s.Mesh(new s.BoxGeometry(1,1,1),new s.MeshNormalMaterial);return e.material.shading=s.FlatShading,e.position.z=.5,e},e.prototype.createIcosahedron=function(){var e=new s.Mesh(new s.IcosahedronGeometry(.7,1),new s.MeshNormalMaterial);return e.material.shading=s.FlatShading,e.position.z=.7,e},e.prototype.createAvatar=function(e){(new s.ObjectLoader).load("assets/avatar/legoobj.obj",function(n){console.log("Creating avatar"),e(n)})},e.prototype.createWebGLRenderer=function(e,n,a,t){var l=new s.WebGLRenderer({antialias:!0,alpha:!0});l.setClearColor(new s.Color("lightgrey"),0),console.log("orient",a.orientation);var o=Math.min(window.innerWidth/t.video.videoWidth,window.innerHeight/t.video.videoHeight),r=o*t.video.videoWidth,i=o*t.video.videoHeight;return"portrait"===a.orientation?(l.setSize(i,r),l.domElement.style.transformOrigin="0 0",l.domElement.style.transform="rotate(-90deg) translateX(-100%)"):l.setSize(r,i),l.domElement.className="center",l},e}();Object(u.__decorate)([Object(i.M)("videoElement"),Object(u.__metadata)("design:type","function"==typeof(v=void 0!==i.k&&i.k)&&v||Object)],h.prototype,"videoElement",void 0),h=Object(u.__decorate)([Object(i.i)({selector:"page-home",templateUrl:"home.html"}),Object(u.__metadata)("design:paramtypes",["function"==typeof(p=void 0!==c.f&&c.f)&&p||Object,"function"==typeof(b=void 0!==c.d&&c.d)&&b||Object])],h);var v,p,b,m=function(){return function(e){this.rootPage=h,e.ready().then(function(){window.URL=window.URL||window.webkitURL,window.MediaDevices=window.MediaDevices||navigator.getUserMedia})}}();m=Object(u.__decorate)([Object(i.i)({templateUrl:"app.html"}),Object(u.__metadata)("design:paramtypes",["function"==typeof(g=void 0!==c.f&&c.f)&&g||Object])],m);var g,w=function(){function e(e,n){this.navCtrl=e,this.navParams=n}return e.prototype.ionViewDidLoad=function(){console.log("ionViewDidLoad ArJsPage")},e}();w=Object(u.__decorate)([Object(i.i)({selector:"page-ar-js",templateUrl:"ar-js.html"}),Object(u.__metadata)("design:paramtypes",["function"==typeof(j=void 0!==c.d&&c.d)&&j||Object,"function"==typeof(y=void 0!==c.e&&c.e)&&y||Object])],w);var j,y,k=a(253),O=a(254),M=(a(369),function(){function e(e){this.http=e,console.log("Hello ArengineServiceProvider Provider")}return e.prototype.startAREngine=function(){},e}());M=Object(u.__decorate)([Object(i.o)(),Object(u.__metadata)("design:paramtypes",["function"==typeof(D=void 0!==O.a&&O.a)&&D||Object])],M);var D,C=function(){return function(){}}();C=Object(u.__decorate)([Object(i.u)({declarations:[m,h,w],imports:[r.a,c.c.forRoot(m,{},{links:[]})],bootstrap:[c.a],entryComponents:[m,h,w],providers:[_.a,d.a,{provide:i.l,useClass:c.b},k.a,M]})],C);var E=a(56),P=a(370),x=a(371),I=a(372),R=a(373),A=a(374),z=a(375),L=a(376),U=a(377),S=a(378),H=a(379),W=a(43),G=a(62),N=a(4),T=a(20),q=a(9),F=a(1),V=a(3),X=a(8),B=a(37),J=a(18),K=a(11),Y=i._2({encapsulation:2,styles:[],data:{}}),Q=i._0("ng-component",m,function(e){return i._25(0,[(e()(),i._5(0,null,null,1,"ng-component",[],null,null,null,t,Y)),i._3(49152,null,0,m,[V.a],null,null)],null,null)},{},{},[]),Z=a(255),$=a(26),ee=a(31),ne=i._2({encapsulation:2,styles:[],data:{}}),ae=i._0("page-home",h,function(e){return i._25(0,[(e()(),i._5(0,null,null,1,"page-home",[],null,null,null,l,ne)),i._3(4243456,null,0,h,[V.a,T.a],null,null)],null,null)},{},{},[]),te=a(125),le=a(380),oe=a(40),re=a(381),ie=a(88),ue=a(50),ce=a(13),de=i._2({encapsulation:2,styles:[],data:{}}),_e=i._0("page-ar-js",w,function(e){return i._25(0,[(e()(),i._5(0,null,null,1,"page-ar-js",[],null,null,null,o,de)),i._3(49152,null,0,w,[T.a,ce.a],null,null)],null,null)},{},{},[]),se=a(17),fe=a(133),he=a(23),ve=a(102),pe=a(104),be=a(130),me=a(21),ge=a(39),we=a(110),je=a(213),ye=a(58),ke=a(49),Oe=a(112),Me=a(76),De=a(117),Ce=a(129),Ee=a(124),Pe=a(212),xe=a(131),Ie=a(35),Re=a(111),Ae=a(132),ze=i._1(C,[E.b],function(e){return i._16([i._17(512,i.j,i.X,[[8,[P.a,x.a,I.a,R.a,A.a,z.a,L.a,U.a,S.a,Q,ae,_e]],[3,i.j],i.v]),i._17(5120,i.t,i._15,[[3,i.t]]),i._17(4608,se.k,se.j,[i.t]),i._17(5120,i.b,i._6,[]),i._17(5120,i.r,i._12,[]),i._17(5120,i.s,i._13,[]),i._17(4608,r.c,r.s,[se.c]),i._17(6144,i.H,null,[r.c]),i._17(4608,r.f,fe.a,[]),i._17(5120,r.d,function(e,n,a,t){return[new r.l(e),new r.p(n),new r.o(a,t)]},[se.c,se.c,se.c,r.f]),i._17(4608,r.e,r.e,[r.d,i.x]),i._17(135680,r.n,r.n,[se.c]),i._17(4608,r.m,r.m,[r.e,r.n]),i._17(6144,i.F,null,[r.m]),i._17(6144,r.q,null,[r.n]),i._17(4608,i.K,i.K,[i.x]),i._17(4608,r.h,r.h,[se.c]),i._17(4608,r.j,r.j,[se.c]),i._17(4608,he.k,he.k,[]),i._17(4608,he.c,he.c,[]),i._17(4608,ve.a,ve.a,[q.a,F.a]),i._17(4608,pe.a,pe.a,[q.a,F.a]),i._17(4608,be.a,be.a,[]),i._17(4608,me.a,me.a,[]),i._17(4608,ge.a,ge.a,[V.a]),i._17(4608,ee.a,ee.a,[F.a,V.a,i.x,K.a]),i._17(4608,we.a,we.a,[q.a,F.a]),i._17(5120,se.f,je.b,[se.q,[2,se.a],F.a]),i._17(4608,se.e,se.e,[se.f]),i._17(5120,ye.b,ye.d,[q.a,ye.a]),i._17(5120,J.a,J.b,[q.a,ye.b,se.e,ke.b,i.j]),i._17(4608,Oe.a,Oe.a,[q.a,F.a,J.a]),i._17(4608,Me.a,Me.a,[q.a,F.a]),i._17(4608,De.a,De.a,[q.a,F.a,J.a]),i._17(4608,Ce.a,Ce.a,[F.a,V.a,K.a,q.a,X.l]),i._17(4608,Ee.a,Ee.a,[q.a,F.a]),i._17(4608,B.a,B.a,[V.a,F.a]),i._17(4608,_.a,_.a,[]),i._17(4608,d.a,d.a,[]),i._17(4608,k.a,k.a,[]),i._17(4608,M,M,[O.a]),i._17(512,se.b,se.b,[]),i._17(512,i.l,Pe.a,[]),i._17(256,F.b,{},[]),i._17(1024,xe.a,xe.b,[]),i._17(1024,V.a,V.b,[r.b,xe.a,i.x]),i._17(1024,F.a,F.c,[F.b,V.a]),i._17(512,K.a,K.a,[V.a]),i._17(512,Ie.a,Ie.a,[]),i._17(512,q.a,q.a,[F.a,V.a,[2,Ie.a]]),i._17(512,X.l,X.l,[q.a]),i._17(256,ye.a,{links:[]},[]),i._17(512,i.h,i.h,[]),i._17(512,Re.a,Re.a,[i.h]),i._17(1024,ke.b,ke.c,[Re.a,i.q]),i._17(1024,i.c,function(e,n,a,t,l,o,i,u,c,d,_,s,f,h){return[r.r(e,n),Ae.a(a),be.b(t,l),Ce.b(o,i,u,c,d),ke.d(_,s,f,h)]},[[2,r.i],[2,i.w],F.a,V.a,K.a,F.a,V.a,K.a,q.a,X.l,F.a,ye.a,ke.b,i.x]),i._17(512,i.d,i.d,[[2,i.c]]),i._17(131584,i._4,i._4,[i.x,i.Y,i.q,i.l,i.j,i.d]),i._17(2048,i.f,null,[i._4]),i._17(512,i.e,i.e,[i.f]),i._17(512,r.a,r.a,[[3,r.a]]),i._17(512,he.j,he.j,[]),i._17(512,he.d,he.d,[]),i._17(512,he.i,he.i,[]),i._17(512,je.a,je.a,[]),i._17(512,C,C,[]),i._17(256,E.a,m,[]),i._17(256,se.a,"/",[])])});Object(i.R)(),Object(r.k)().bootstrapModuleFactory(ze)},322:function(e,n){},323:function(e,n){}},[256]);